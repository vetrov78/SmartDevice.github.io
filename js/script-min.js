"use strict";!function(){var e=document.querySelector("#callback-popup").content.querySelector(".callback-popup__container"),o=document.querySelector("#call-request-button"),t=!1;o.addEventListener("click",function(){var o;if(!t){var n=e.cloneNode(!0);document.body.classList.add("body-no-scroll"),document.body.appendChild(n),n.querySelector("#popup-name").focus(),c(n.querySelector("[data-mask]"));var r=document.querySelector(".callback-popup__close-button");t=!0,window.addEventListener("click",function(e){e.path.some(function(e){return"string"==typeof e.className&&(e.className.includes("callback-popup__container")||e.id.includes("call-request-button"))})||i(e)});var s=Array.from(document.querySelectorAll(".callback-popup__container *"));o=document.querySelectorAll('body *:not([tabindex="-1"]');for(var a=0;a<o.length;a++){var l=o[a];s.includes(l)||l===n||(l._prevTabindex=l.getAttribute("tabindex"),l.setAttribute("tabindex",-1),l.style.pointerEvents="none",l.style.outline="none")}}var d=function(e){(function(e){return"Escape"===e.key||"Esc"===e.key})(e)&&i(e)},i=function(e){for(e.preventDefault(),n.remove(),document.body.classList.remove("body-no-scroll"),a=0;a<o.length;a++)(l=o[a])._prevTabindex?(l.setAttribute("tabindex",l._prevTabindex),l._prevTabindex=null):l.removeAttribute("tabindex"),l.style.pointerEvents="auto",l.style.outline=null;document.removeEventListener("keydown",d),r.removeEventListener("click",i),t=!1};document.addEventListener("keydown",d),r.addEventListener("click",i)}),document.querySelector(".page-footer__menu-address-wrapper").classList.remove("no-js");var n=document.querySelector(".page-footer__menu-block");n.classList.add("page-footer__menu-block--closed");var r=document.querySelector(".page-footer__address-block");function c(e){var o=e.dataset.mask.split("");function t(e){return function(e){var t=e.length<3;return o.map(function(o){if(t){if("_"!==o&&")"!==o)return o}else if("_"!==o)return o;return 0===e.length?"":e.shift()}).join("")}(e.split("").filter(function(e){return/\d/.test(e)}))}function n(){var o=e.selectionStart,n=e.selectionEnd;e.value=t(e.value.replace(/7/,"")),e.selectionStart=o,e.selectionEnd=n}e.addEventListener("click",n),e.addEventListener("keyup",n)}r.classList.add("page-footer__address-block--closed"),document.querySelector(".page-footer__header--menu").addEventListener("click",function(){n.classList.contains("page-footer__menu-block--closed")?(n.classList.remove("page-footer__menu-block--closed"),n.classList.add("page-footer__menu-block--opened"),r.classList.contains("page-footer__address-block--opened")&&(r.classList.add("page-footer__address-block--closed"),r.classList.remove("page-footer__address-block--opened"))):(n.classList.add("page-footer__menu-block--closed"),n.classList.remove("page-footer__menu-block--opened"))}),document.querySelector(".page-footer__header--address").addEventListener("click",function(){r.classList.contains("page-footer__address-block--closed")?(r.classList.remove("page-footer__address-block--closed"),r.classList.add("page-footer__address-block--opened"),n.classList.contains("page-footer__menu-block--opened")&&(n.classList.add("page-footer__menu-block--closed"),n.classList.remove("page-footer__menu-block--opened"))):(r.classList.add("page-footer__address-block--closed"),r.classList.remove("page-footer__address-block--opened"))}),Array.prototype.forEach.call(document.querySelectorAll("[data-mask]"),c),document.querySelector(".page-header__promo-button").addEventListener("click",function(){window.location.href="#form"})}();